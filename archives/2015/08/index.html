
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="yolynn">
    <title>Archives: 2015/8 - yolynn</title>
    <meta name="author" content="yolynn">
    
    
        <link rel="icon" href="http://yolynn.com/assets/images/head.png">
    
    
    <meta name="description" content="äº‘åœ¨é’å¤©æ°´åœ¨ç“¶ - å¹½çµé¸Ÿ">
<meta property="og:type" content="blog">
<meta property="og:title" content="yolynn">
<meta property="og:url" content="http://yolynn.com/archives/2015/08/index.html">
<meta property="og:site_name" content="yolynn">
<meta property="og:description" content="äº‘åœ¨é’å¤©æ°´åœ¨ç“¶ - å¹½çµé¸Ÿ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="yolynn">
<meta name="twitter:description" content="äº‘åœ¨é’å¤©æ°´åœ¨ç“¶ - å¹½çµé¸Ÿ">
    
    
        
    
    
        <meta property="og:image" content="http://yolynn.com/assets/images/head.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/font-awesome.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox-thumbs.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css" type="text/css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">yolynn</a>
    </h1>
    
        
            <a  class="header-right-icon "
                href="/#about">
        
        
            <i class="fa fa-lg fa-head.png"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/head.png"/>
            </a>
            <span class="sidebar-profile-name">yolynn</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/yolynn-bird" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="http://weibo.com/zxl20zxl" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
                    <span class="sidebar-button-desc">global.weibo</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://stackoverflow.com/users/2662962/yolynn" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
                    <span class="sidebar-button-desc">Stack Overflow</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://twitter.com/zxl20zxl" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                    <span class="sidebar-button-desc">Twitter</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.instagram.com/yolynn.zxl" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-instagram"></i>
                    <span class="sidebar-button-desc">global.instagram</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://dribbble.com/yolynn" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-dribbble"></i>
                    <span class="sidebar-button-desc">global.dribbble</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="http://yolynn.com/2010/04/22/weixin/"
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-weixin"></i>
                    <span class="sidebar-button-desc">global.weixin</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.zhihu.com/people/yolynn" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-flickr"></i>
                    <span class="sidebar-button-desc">global.zhihu</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="mailto://zxl20zxl@gmail.com" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">Mail</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    

<section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2015/08/20/ios_thirdparty/">
                            iOSä¸‰æ–¹åº“æºç åŸºç¡€åˆ°è¿›é˜¶
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2015-08-20T18:15:02+08:00">
	
		    Aug 20, 2015
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h2 id="å­¦ä¹ iOSä¸‰æ–¹åº“æºç éœ€è¦ä¼šä»€ä¹ˆï¼Ÿ">å­¦ä¹ iOSä¸‰æ–¹åº“æºç éœ€è¦ä¼šä»€ä¹ˆï¼Ÿ</h2><p>Githubå¼€æºåº“ä½•å…¶å¤šï¼Ÿç¬¬ä¸‰æ–¹SDKä½•å…¶å¤šï¼Ÿè¦åšåˆ°è¯†åˆ«å¥½çš„ï¼Œå¸æ”¶ç²¾åï¼Œå–å…¶æ€æƒ³ï¼Œå†ç»“åˆå®é™…å½¢æˆè‡ªå·±çš„æ€æƒ³æˆ–æ–¹æ¡ˆ</p>
<h2 id="iOSä¸‰æ–¹åº“æºç æ˜¯ä»€ä¹ˆï¼Ÿ">iOSä¸‰æ–¹åº“æºç æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>åˆ—ä¸€äº›ç»å…¸ä¸‰æ–¹åº“ï¼Œå¹¶é˜è¿°å…¶ä¸­å¿ƒæ€æƒ³</p>
<h4 id="å°å·¥å…·">å°å·¥å…·</h4><h6 id="MLeaksFinder">MLeaksFinder</h6><ol>
<li>ç»™UIApplicationæ·»åŠ Category <strong>UIApplication+MemoryLeak</strong></li>
<li>hookç³»ç»Ÿå‡½æ•°<strong>sendAction:to:from:forEvent:</strong>ä½¿ç”¨<strong>objc_setAssociatedObject</strong>å­˜å‚¨å½“å‰ç±»çš„sender</li>
<li>ç»™NSObjectæ·»åŠ Category <strong>NSObject+MemoryLeak</strong></li>
<li><strong>objc_getAssociatedObject</strong>è·å–å½“å‰ç±»çš„sender</li>
<li>å¦‚æœå½“å‰ç±»çš„senderä¸æ˜¯è‡ªå·±ï¼Œåˆ™å¯èƒ½æ˜¯æœ‰å†…å­˜æ³„éœ²å‘ç”Ÿï¼Œæ‰“å°å †æ ˆä¿¡æ¯åˆ°æ§åˆ¶å°</li>
<li><a href="https://github.com/Zepo/MLeaksFinder" target="_blank" rel="external">MLeaksFinder</a> å†…åµŒ <a href="https://github.com/facebook/FBRetainCycleDetector/tree/master/FBRetainCycleDetector" target="_blank" rel="external">FBRetainCycleDetector</a></li>
</ol>
<h6 id="FPSLabel">FPSLabel</h6><p>CADisplayLinkåœ¨å±å¹•åˆ·æ–°æ—¶è°ƒç”¨ï¼Œåˆ·æ–°ç‡é€šå¸¸<strong>60æ¬¡/ç§’</strong></p>
<ol>
<li>åˆ›å»ºdisplayLink </li>
<li>æ·»åŠ åˆ°RunLoop</li>
<li>tickä¸­ç”¨countè®°å½•<strong>æ¯ç§’</strong>è°ƒç”¨æ¬¡æ•°</li>
<li>fps = count / (link.timestamp - lastTime)</li>
<li><a href="https://github.com/yolynn-bird/YLFPSLabel" target="_blank" rel="external">YLFPSLabel</a></li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_link = [CADisplayLink displayLinkWithTarget:[YYWeakProxy proxyWithTarget:self] selector:@selector(tick:)];&#10;[_link addToRunLoop:[NSRunLoop mainRunLoop] forMode:NSRunLoopCommonModes];</span><br></pre></td></tr></table></figure>
<h6 id="é‡æŒ‡é’ˆæ£€æµ‹">é‡æŒ‡é’ˆæ£€æµ‹</h6><ol>
<li>ä½¿ç”¨fishhookæ›¿æ¢ç³»ç»ŸCåº“çš„freeå‡½æ•°</li>
<li>å°†freeæ‰çš„å†…å­˜å—å…¨éƒ¨å¡«å…¥0x55ï¼Œç¡®ä¿æºå¯¹è±¡è¢«æ“¦é™¤</li>
<li>è‡ªè¡Œç®¡ç†freeæ‰çš„å†…å­˜å—ï¼Œä¸ç«‹å³é‡Šæ”¾ï¼Œé˜²æ­¢ç³»ç»Ÿåˆ†é…ç»™å…¶å®ƒå¯¹è±¡ï¼Œä»…åœ¨å†…å­˜è¿‡å¤§æ—¶é€æ­¥é‡Šæ”¾</li>
<li>åœ¨freeæ‰çš„å†…å­˜å—é¦–éƒ¨ï¼Œå¡«å…¥ä¸€ä¸ªè‡ªå®šä¹‰å¯¹è±¡Checkerï¼Œè®°å½•åŸå¯¹è±¡ç±»å‹ï¼Œæ¥ç®¡åŸå¯¹è±¡çš„æ‰€æœ‰è°ƒç”¨ï¼Œä¸€æ—¦å‘ç°è°ƒç”¨ï¼Œåˆ™è¯´æ˜å­˜åœ¨é‡æŒ‡é’ˆ</li>
<li><a href="https://github.com/yolynn-bird/YLWildPointerChecker" target="_blank" rel="external">YLWildPointerChecker</a></li>
</ol>
<h4 id="AFNetWorking">AFNetWorking</h4><h6 id="AFNetWorkingå¦‚ä½•ç®¡ç†çº¿ç¨‹ï¼Ÿ">AFNetWorkingå¦‚ä½•ç®¡ç†çº¿ç¨‹ï¼Ÿ</h6><ol>
<li>åŸºäºNSURLConnection<ul>
<li>åªåˆ›å»ºä¸€æ¡çº¿ç¨‹å‘èµ·æ‰€æœ‰è¯·æ±‚å¹¶é˜»å¡ä»¥ç­‰å¾…å“åº”</li>
<li>ç½‘ç»œè¯·æ±‚ç»§æ‰¿è‡ªNSOperationï¼Œå†åŠ å…¥NSOperationQueue</li>
</ul>
</li>
<li>åŸºäºNSURLSession<br> <img src="https://www.processon.com/chart_image/5861da7ce4b02e6c0aee8e68.png" alt=""></li>
</ol>
<h6 id="NSURLSession_VS_NSURLConnection">NSURLSession VS NSURLConnection</h6><ol>
<li>NSURLConnection<ul>
<li>æ²¡æœ‰æä¾›æ¥å£è§£å†³å¤šä¸ªç½‘ç»œè¯·æ±‚å¯¹å¤šä¸ªçº¿ç¨‹ç®¡ç†</li>
<li>ä¸æ˜¯åŸºäºHTTP/2ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½è¦å‘èµ·ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹</li>
</ul>
</li>
<li>NSURLSession<ul>
<li>åŸºäºHTTP/2</li>
<li>å€Ÿé‰´AFNetworkingå†…éƒ¨ç»´æŠ¤ä¸¤ä¸ªé˜Ÿåˆ—ï¼šä¸€ä¸ªå¤„ç†sessionå›è°ƒï¼Œä¸€ä¸ªå¤„ç†å“åº”å›è°ƒ</li>
</ul>
</li>
</ol>
<h4 id="SDWebImage">SDWebImage</h4><p><img src="https://www.processon.com/chart_image/5861dce9e4b078015c9fedae.png" alt=""></p>
<h4 id="ReactiveCocoa">ReactiveCocoa</h4><h6 id="æ€æƒ³">æ€æƒ³</h6><p>åˆ©ç”¨hook(é’©å­)ï¼Œhookæ˜¯ä¸€ç§ç”¨äºæ”¹å˜APIæ‰§è¡Œç»“æœçš„æŠ€æœ¯ï¼Œæ¯æ¬¡è°ƒç”¨APIè¿”å›ç»“æœä¹‹å‰ï¼Œå…ˆæ‰§è¡Œä½ è‡ªå·±çš„æ–¹æ³•ï¼Œæ”¹å˜ç»“æœçš„è¾“å‡º</p>
<h6 id="æ ¸å¿ƒæ–¹æ³•bind">æ ¸å¿ƒæ–¹æ³•bind</h6><p>bindå±äºRACåº•å±‚æ–¹æ³•ï¼Œä»¥å‰çš„å¼€å‘æ–¹å¼æ˜¯<strong>èµ‹å€¼</strong>ï¼Œè€ŒRACå¼€å‘æ–¹å¼é‡å¿ƒåœ¨äº<strong>ç»‘å®š</strong></p>
<h4 id="Mantle">Mantle</h4><h6 id="åŸç†">åŸç†</h6><ol>
<li>runtimeåŠ¨æ€è·å–å±æ€§ç±»å‹å’Œåå­—<ul>
<li>class_copyPropertyListè¿”å›ä¸€ä¸ªæ•°ç»„</li>
<li>property_getAttributes</li>
<li>__attribute__æœºåˆ¶ç»™æ–¹æ³•ã€å˜é‡ã€ç±»å‹å¢åŠ é¢å¤–çš„å±æ€§</li>
</ul>
</li>
<li>åˆ›å»ºå¯¹åº”çš„å¯¹è±¡å®ä¾‹</li>
<li>æ ¹æ®KVC(NSKeyValueCodingåè®®)æ¥ä¸ºå±æ€§è®¾ç½®å€¼</li>
<li><a href="http://blog.csdn.net/Hello_Hwc/article/details/51548128" target="_blank" rel="external">æ›´å¤šMantle</a></li>
</ol>
<h4 id="JSPatch">JSPatch</h4><h6 id="åŸç†-1">åŸç†</h6><p>JSä¼ é€’å­—ç¬¦ä¸²ç»™OCï¼ŒOCé€šè¿‡runtimeæ¥å£è°ƒç”¨å’Œæ›¿æ¢OCæ–¹æ³•</p>
<ol>
<li>runtimeé€šè¿‡ç±»å/æ–¹æ³•ååå°„è·å–ç›¸åº”çš„ç±»å’Œæ–¹æ³•</li>
<li>æ›¿æ¢æŸä¸ªç±»çš„æ–¹æ³•ä¸ºæ–°çš„å®ç°</li>
<li>æ–°æ³¨å†Œä¸€ä¸ªç±»ï¼Œä¸ºç±»æ·»åŠ æ–¹æ³•</li>
<li><a href="http://blog.cnbang.net/tech/2808/" target="_blank" rel="external">æ›´å¤šJSPatch</a></li>
</ol>
<h4 id="Alamofire">Alamofire</h4><p>åŸºäºNSURLSessionï¼Œä¹Ÿæœ‰åœºæ™¯ä¸é€‚ç”¨ï¼Œä¸¾ä¸ªğŸŒ°ï¼šä¸‹è½½10ä¸ªæ–‡ä»¶ï¼Œæ”¯æŒæœ€å¤§å¹¶å‘2ä¸ªï¼ŒNSURLSessionçš„timeoutIntervalForRequestå’ŒtimeoutIntervalForResourceä¸èƒ½æ»¡è¶³ï¼Œéœ€ç”¨NSOperationQuequeå®ç°</p>
<h6 id="å·¥ä½œæµ">å·¥ä½œæµ</h6><p><img src="http://cc.cocimg.com/api/uploads/20151117/1447728266491926.jpg" alt=""></p>
<p><a href="http://www.cocoachina.com/ios/20151117/14240.html" target="_blank" rel="external">æ›´å¤šAlamofire</a></p>
<h2 id="ä¸ºä»€ä¹ˆç”¨iOSä¸‰æ–¹åº“ï¼Ÿ">ä¸ºä»€ä¹ˆç”¨iOSä¸‰æ–¹åº“ï¼Ÿ</h2><h4 id="ç»„ä»¶åŒ–ï¼Œä»£ç å¤ç”¨">ç»„ä»¶åŒ–ï¼Œä»£ç å¤ç”¨</h4><h4 id="ç‰¹æ®Šå¤æ‚åŠŸèƒ½">ç‰¹æ®Šå¤æ‚åŠŸèƒ½</h4><h2 id="iOSä¸‰æ–¹åº“æ€ä¹ˆç”¨ï¼Ÿ">iOSä¸‰æ–¹åº“æ€ä¹ˆç”¨ï¼Ÿ</h2><h4 id="SDK">SDK</h4><h6 id="é™æ€åº“_-a">é™æ€åº“ .a</h6><h6 id="ç±»åº“_-framework">ç±»åº“ .framework</h6><h6 id="èµ„æºæ–‡ä»¶_-bundle">èµ„æºæ–‡ä»¶ .bundle</h6><h4 id="pod">pod</h4><h2 id="iOSä¸‰æ–¹åº“çš„å®é™…åº”ç”¨">iOSä¸‰æ–¹åº“çš„å®é™…åº”ç”¨</h2><h4 id="XXä¼š">XXä¼š</h4><h4 id="XXèœ‚">XXèœ‚</h4>
                    
                        
                    
                    
                        <p>
                            <a href="/2015/08/20/ios_thirdparty/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title" itemprop="headline">
                    
                        <a class="link-unstyled" href="/2015/08/10/ios_thread/">
                            iOSå¤šçº¿ç¨‹åŸºç¡€åˆ°è¿›é˜¶
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time itemprop="datePublished" datetime="2015-08-10T18:15:02+08:00">
	
		    Aug 10, 2015
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content" itemprop="articleBody">
                    <h2 id="å­¦ä¹ iOSå¤šçº¿ç¨‹éœ€è¦ä¼šä»€ä¹ˆï¼Ÿ">å­¦ä¹ iOSå¤šçº¿ç¨‹éœ€è¦ä¼šä»€ä¹ˆï¼Ÿ</h2><p>è¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­å¹¶å‘æ‰§è¡Œçš„åŸºæœ¬å•ä½ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­æ‰§è¡Œè¿ç®—çš„æœ€å°å•ä½ã€‚</p>
<h2 id="iOSå¤šçº¿ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ">iOSå¤šçº¿ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ</h2><h4 id="Pthreads">Pthreads</h4><p>åŸºäºCè¯­è¨€ï¼Œç§»æ¤æ€§å¼º</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#import &#60;pthread.h&#62;&#10;pthread_t thread;&#10;pthread_create(&#38;thread, NULL, start, NULL);</span><br></pre></td></tr></table></figure>
<h4 id="NSThread">NSThread</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSThread *thread = [[NSThread alloc] initWithTarget:self selector:@selector(run:) object:nil];&#10;[thread start];</span><br></pre></td></tr></table></figure>
<h4 id="GCD">GCD</h4><h6 id="å¼‚æ­¥">å¼‚æ­¥</h6><p>å¼‚æ­¥å’ŒåŒæ­¥æœ€å¤§çš„åŒºåˆ«åœ¨äºå¼‚æ­¥ä¸ä¼š<strong>é˜»å¡å½“å‰çº¿ç¨‹</strong>ï¼Œæ˜¯å¦ç­‰å¾…blockå®Œæˆåè¿”å›</p>
<h6 id="é˜Ÿåˆ—">é˜Ÿåˆ—</h6><ol>
<li>ä¸²è¡Œé˜Ÿåˆ—<ul>
<li>ä¸»é˜Ÿåˆ—                 dispatch_get_main_queue()</li>
<li>è‡ªå®šä¹‰é˜Ÿåˆ—            dispatch_queue_create(â€œç§æœ‰ä¸²è¡Œâ€, DISPATCH_QUEUE_SERIAL)</li>
</ul>
</li>
<li>å¹¶è¡Œé˜Ÿåˆ—<ul>
<li>å…¨å±€å¹¶å‘é˜Ÿåˆ—            dispatch_get_global_queue()</li>
<li>è‡ªå®šä¹‰é˜Ÿåˆ—            dispatch_queue_create(â€œç§æœ‰å¹¶è¡Œâ€, DISPATCH_QUEUE_CONCURRENT)</li>
</ul>
</li>
</ol>
<h6 id="ä»»åŠ¡">ä»»åŠ¡</h6><ol>
<li>dispatch_sync(queue, block)</li>
<li>dispatch_async(queue, block)</li>
<li>dispatch_barrier_sync(queue, block)<ul>
<li>ä¼ å…¥çš„queueæ˜¯è‡ªå®šä¹‰DISPATCH_QUEUE_CONCURRENT queue</li>
<li>é˜»å¡queue </li>
<li>æ‰§è¡Œblockå‰çš„ä»»åŠ¡åï¼Œæ‰§è¡Œblockï¼Œè§£é™¤é˜»å¡</li>
</ul>
</li>
<li>dispatch_barrier_async(queue, block)<ul>
<li>ä¼ å…¥çš„queueæ˜¯è‡ªå®šä¹‰DISPATCH_QUEUE_CONCURRENT queue</li>
<li>é˜»å¡queue </li>
<li>é˜»å¡å½“å‰çº¿ç¨‹</li>
</ul>
</li>
</ol>
<h6 id="é˜Ÿåˆ—_+_ä»»åŠ¡">é˜Ÿåˆ— + ä»»åŠ¡</h6><ol>
<li>é˜Ÿåˆ—ç»„<ul>
<li>dispatch_group_create()</li>
<li>dispatch_group_async(group, queue, block)</li>
<li>dispatch_group_notify(group, queue, block)</li>
</ul>
</li>
</ol>
<p><a href="http://tutuge.me/2015/04/03/something-about-gcd/index.html" target="_blank" rel="external">æŸ¥çœ‹æ›´å¤šå…³äºGCDçš„å‘</a></p>
<h4 id="NSOperation_&amp;_NSOperationQueue">NSOperation &amp; NSOperationQueue</h4><p>æ˜¯å¯¹GCDæ›´é«˜ä¸€å±‚çš„å°è£…</p>
<h6 id="NSOperation">NSOperation</h6><ol>
<li>NSInvocationOperation </li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSInvocationOperation *operation = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(run) object:nil];&#10;[operation start];</span><br></pre></td></tr></table></figure>
<ol>
<li>NSBlockOperation</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSBlockOperation *operation = [NSBlockOperation blockOperationWithBlock:^&#123;&#10;      NSLog(@&#34;%@&#34;, [NSThread currentThread]);&#10;  &#125;];&#10;  &#10;//&#28155;&#21152;&#22810;&#20010;Block&#65292;&#25903;&#25345;&#22810;&#32447;&#31243;&#10;for (NSInteger i = 0; i &#60; 5; i++) &#123;&#10;&#9;[operation addExecutionBlock:^&#123;&#10;&#9;NSLog(@&#34;&#31532;%ld&#27425;&#65306;%@&#34;, i, [NSThread currentThread]);&#10;&#9;&#125;];&#10;&#125;&#10;&#10;[operation start];</span><br></pre></td></tr></table></figure>
<h6 id="NSOperationQueue">NSOperationQueue</h6><ol>
<li>ä¸»é˜Ÿåˆ—<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSOperationQueue *queue = [NSOperationQueue mainQueue];</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>å…¶å®ƒé˜Ÿåˆ—</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//1.&#21019;&#24314;&#19968;&#20010;&#20854;&#20182;&#38431;&#21015;    &#10;NSOperationQueue *queue = [[NSOperationQueue alloc] init];&#10;&#10;//2.&#21019;&#24314;NSBlockOperation&#23545;&#35937;&#10;NSBlockOperation *operation = [NSBlockOperation blockOperationWithBlock:^&#123;&#10;    NSLog(@&#34;%@&#34;, [NSThread currentThread]);&#10;&#125;];&#10;&#10;//3.&#28155;&#21152;&#22810;&#20010;Block&#10;for (NSInteger i = 0; i &#60; 5; i++) &#123;&#10;    [operation addExecutionBlock:^&#123;&#10;        NSLog(@&#34;&#31532;%ld&#27425;&#65306;%@&#34;, i, [NSThread currentThread]);&#10;    &#125;];&#10;&#125;&#10;&#10;//4.&#38431;&#21015;&#28155;&#21152;&#20219;&#21153;&#10;[queue addOperation:operation];</span><br></pre></td></tr></table></figure>
<ol>
<li>maxConcurrentOperationCount æœ€å¤§å¹¶å‘æ•°</li>
<li>ä»»åŠ¡ä¾èµ–</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//1.&#20219;&#21153;&#19968;&#65306;&#19979;&#36733;&#22270;&#29255;&#10;NSBlockOperation *operation1 = [NSBlockOperation blockOperationWithBlock:^&#123;&#10;    NSLog(@&#34;&#19979;&#36733;&#22270;&#29255; - %@&#34;, [NSThread currentThread]);&#10;    [NSThread sleepForTimeInterval:1.0];&#10;&#125;];&#10;&#10;//2.&#20219;&#21153;&#20108;&#65306;&#25171;&#27700;&#21360;&#10;NSBlockOperation *operation2 = [NSBlockOperation blockOperationWithBlock:^&#123;&#10;    NSLog(@&#34;&#25171;&#27700;&#21360;   - %@&#34;, [NSThread currentThread]);&#10;    [NSThread sleepForTimeInterval:1.0];&#10;&#125;];&#10;&#10;//3.&#20219;&#21153;&#19977;&#65306;&#19978;&#20256;&#22270;&#29255;&#10;NSBlockOperation *operation3 = [NSBlockOperation blockOperationWithBlock:^&#123;&#10;    NSLog(@&#34;&#19978;&#20256;&#22270;&#29255; - %@&#34;, [NSThread currentThread]);&#10;    [NSThread sleepForTimeInterval:1.0];&#10;&#125;];&#10;&#10;//4.&#35774;&#32622;&#20381;&#36182;&#10;[operation2 addDependency:operation1];      //&#20219;&#21153;&#20108;&#20381;&#36182;&#20219;&#21153;&#19968;&#10;[operation3 addDependency:operation2];      //&#20219;&#21153;&#19977;&#20381;&#36182;&#20219;&#21153;&#20108;&#10;&#10;//5.&#21019;&#24314;&#38431;&#21015;&#24182;&#21152;&#20837;&#20219;&#21153;&#10;NSOperationQueue *queue = [[NSOperationQueue alloc] init];&#10;[queue addOperations:@[operation3, operation2, operation1] waitUntilFinished:NO];</span><br></pre></td></tr></table></figure>
<h2 id="ä¸ºä»€ä¹ˆè¦ç”¨iOSå¤šçº¿ç¨‹ï¼Ÿ">ä¸ºä»€ä¹ˆè¦ç”¨iOSå¤šçº¿ç¨‹ï¼Ÿ</h2><ol>
<li>æ˜“äºè°ƒåº¦ã€æé«˜å¹¶å‘ã€å……åˆ†å‘æŒ¥ç¡¬ä»¶å¤šæ ¸ä¼˜åŠ¿</li>
</ol>
<h2 id="iOSå¤šçº¿ç¨‹æ€ä¹ˆç”¨ï¼Ÿ">iOSå¤šçº¿ç¨‹æ€ä¹ˆç”¨ï¼Ÿ</h2><h4 id="æ­»é”">æ­»é”</h4><h6 id="ä¸ºä»€ä¹ˆæ­»é”">ä¸ºä»€ä¹ˆæ­»é”</h6><p>ä½¿ç”¨åŒæ­¥å‡½æ•°æ·»åŠ ä»»åŠ¡é˜»å¡å½“å‰çº¿ç¨‹ï¼Œåˆ™å½“å‰çº¿ç¨‹ä»»åŠ¡éœ€ç­‰å¾…æ·»åŠ çš„ä»»åŠ¡ï¼Œè¢«æ·»åŠ åˆ°é˜Ÿåˆ—çš„ä»»åŠ¡å…·æœ‰FIFOæ€§è´¨ï¼Œå®ƒä¹Ÿåœ¨ç­‰å¾…å½“å‰çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œï¼Œè¿›å…¥ç›¸äº’ç­‰å¾…é€ æˆæ­»é”ã€‚</p>
<h6 id="æ€ä¹ˆé¿å…æ­»é”">æ€ä¹ˆé¿å…æ­»é”</h6><ol>
<li>åŒæ­¥è½¬å¼‚æ­¥ï¼Œé‡Šæ”¾é˜»å¡</li>
<li>ä»»åŠ¡æ·»åŠ åˆ°å¹¶å‘é˜Ÿåˆ—æˆ–å…¶å®ƒé˜Ÿåˆ—</li>
</ol>
<h4 id="çº¿ç¨‹å®‰å…¨">çº¿ç¨‹å®‰å…¨</h4><p>å¤šä¸ªçº¿ç¨‹æŠ¢å åŒä¸€èµ„æºè¿›è¡Œæ“ä½œï¼Œå¦‚ä½•é¿å…ï¼Ÿ</p>
<ol>
<li>@synchronized(self)</li>
<li>dispatch_semaphore<ul>
<li>dispatch_semaphore_create(1)<ul>
<li>dispatch_semaphore_signal </li>
<li>dispatch_semaphore_wait</li>
</ul>
</li>
</ul>
</li>
<li>NSLock</li>
<li>pthread_mutex </li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- (void)runSemaphore &#123;&#10;    &#10;    // 2, dispatch_semaphore&#10;    dispatch_semaphore_t signal = dispatch_semaphore_create(1);&#10;    dispatch_time_t overtime = dispatch_time(DISPATCH_TIME_NOW, 3 * NSEC_PER_SEC);&#10;    &#10;    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;&#10;        &#10;        dispatch_semaphore_wait(signal, overtime);  //signal value - 1&#10;        NSLog(@&#34;&#25805;&#20316;1&#65292;&#24320;&#22987;&#34;);&#10;        sleep(2);&#10;        NSLog(@&#34;&#25805;&#20316;1&#65292;&#32467;&#26463;&#34;);&#10;        dispatch_semaphore_signal(signal); //signal value + 1&#10;    &#125;);&#10;    &#10;    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;&#10;        &#10;        sleep(1);&#10;        dispatch_semaphore_wait(signal, overtime);  //signal value = 0  to  1&#10;        NSLog(@&#34;&#25805;&#20316;2&#65292;&#24320;&#22987;&#34;);&#10;        dispatch_semaphore_signal(signal);  //signal value = 2&#10;    &#125;);&#10;    &#10;&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å»¶è¿Ÿæ‰§è¡Œ">å»¶è¿Ÿæ‰§è¡Œ</h4><h6 id="perform">perform</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self performSelector:@selector(run:) withObject:@&#34;abc&#34; afterDelay:3];</span><br></pre></td></tr></table></figure>
<h6 id="GCD-1">GCD</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// &#21019;&#24314;&#38431;&#21015;&#10;dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);&#10;// &#35774;&#32622;&#24310;&#26102;&#65292;&#21333;&#20301;&#31186;&#10;double delay = 3; &#10;&#10;dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(delay * NSEC_PER_SEC)), queue, ^&#123;&#10;    // 3&#31186;&#21518;&#38656;&#35201;&#25191;&#34892;&#30340;&#20219;&#21153;&#10;&#125;);</span><br></pre></td></tr></table></figure>
<h6 id="NSTimer">NSTimer</h6><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[NSTimer scheduledTimerWithTimeInterval:3.0 target:self selector:@selector(run:) userInfo:@&#34;abc&#34; repeats:NO];</span><br></pre></td></tr></table></figure>
<h4 id="å•ä¾‹_dispatch_once">å•ä¾‹ dispatch_once</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@interface Tool : NSObject &#60;NSCopying&#62;&#10;&#10;+ (instancetype)sharedTool;&#10;&#10;@end&#10;&#10;@implementation Tool&#10;&#10;static id _instance;&#10;&#10;+ (instancetype)sharedTool &#123;&#10;    static dispatch_once_t onceToken;&#10;    dispatch_once(&#38;onceToken, ^&#123;&#10;        _instance = [[Tool alloc] init];&#10;    &#125;);&#10;&#10;    return _instance;&#10;&#125;&#10;&#10;@end</span><br></pre></td></tr></table></figure>
<h4 id="å…¶å®ƒçº¿ç¨‹å›ä¸»çº¿ç¨‹">å…¶å®ƒçº¿ç¨‹å›ä¸»çº¿ç¨‹</h4><ul>
<li>NSThread</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self performSelectorOnMainThread:@selector(run) withObject:nil waitUntilDone:NO];</span><br></pre></td></tr></table></figure>
<ul>
<li>GCD</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatch_async(dispatch_get_main_queue(), ^&#123;&#10;&#10;&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>NSOperation</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[NSOperationQueue mainQueue] addOperationWithBlock:^&#123;&#10;&#10;&#125;];</span><br></pre></td></tr></table></figure>
<h2 id="iOSå¤šçº¿ç¨‹çš„å®é™…åº”ç”¨">iOSå¤šçº¿ç¨‹çš„å®é™…åº”ç”¨</h2><h4 id="XXä¼š">XXä¼š</h4><h4 id="Xèœ‚">Xèœ‚</h4>
                    
                        
                    
                    
                        <p>
                            <a href="/2015/08/10/ios_thread/#post-footer" class="postShorten-excerpt_link link">
                                Comment and share
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2017 yolynn. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/head.png"/>
        
            <h4 id="about-card-name">yolynn</h4>
        
            <h5 id="about-card-bio"><p>äº‘åœ¨é’å¤©æ°´åœ¨ç“¶ - å¹½çµé¸Ÿ</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>vip.com</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                China
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/jquery.js" type="text/javascript"></script>
<script src="/assets/js/jquery.fancybox.js" type="text/javascript"></script>
<script src="/assets/js/jquery.fancybox-thumbs.js" type="text/javascript"></script>
<script src="/assets/js/tranquilpeak.js" type="text/javascript"></script>
<!--SCRIPTS END-->



</html>
