
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="yolynn">
    <title>指针基础到进阶 - yolynn</title>
    <meta name="author" content="yolynn">
    
    
        <link rel="icon" href="http://yolynn.com/assets/images/head.png">
    
    
    <meta name="description" content="学习指针需要会什么？如何完全理解一个复杂类型，记住一条原则：

从变量名处起，根据运算符优先级结合，一步一步分析

举几个🌰：

int p;    
从p开始，先与int结合，说明p是整型变量


int *p;    
从p开始，先与*结合，说明p是指针，
再与int结合，说明指针指向int型，
所以p是返回int型数据的指针


int p[3];
从p开始，先与[]结合，说明p是数组，">
<meta property="og:type" content="blog">
<meta property="og:title" content="指针基础到进阶">
<meta property="og:url" content="http://yolynn.com/2015/06/20/c_pointer/index.html">
<meta property="og:site_name" content="yolynn">
<meta property="og:description" content="学习指针需要会什么？如何完全理解一个复杂类型，记住一条原则：

从变量名处起，根据运算符优先级结合，一步一步分析

举几个🌰：

int p;    
从p开始，先与int结合，说明p是整型变量


int *p;    
从p开始，先与*结合，说明p是指针，
再与int结合，说明指针指向int型，
所以p是返回int型数据的指针


int p[3];
从p开始，先与[]结合，说明p是数组，">
<meta property="og:updated_time" content="2016-12-29T08:13:38.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="指针基础到进阶">
<meta name="twitter:description" content="学习指针需要会什么？如何完全理解一个复杂类型，记住一条原则：

从变量名处起，根据运算符优先级结合，一步一步分析

举几个🌰：

int p;    
从p开始，先与int结合，说明p是整型变量


int *p;    
从p开始，先与*结合，说明p是指针，
再与int结合，说明指针指向int型，
所以p是返回int型数据的指针


int p[3];
从p开始，先与[]结合，说明p是数组，">
    
    
        
    
    
        <meta property="og:image" content="http://yolynn.com/assets/images/head.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/font-awesome.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/jquery.fancybox-thumbs.css" type="text/css">
    <link rel="stylesheet" href="/assets/css/tranquilpeak.css" type="text/css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">yolynn</a>
    </h1>
    
        
            <a  class="header-right-icon "
                href="/#about">
        
        
            <i class="fa fa-lg fa-head.png"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/head.png"/>
            </a>
            <span class="sidebar-profile-name">yolynn</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/yolynn-bird" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="http://weibo.com/zxl20zxl" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-weibo"></i>
                    <span class="sidebar-button-desc">global.weibo</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://stackoverflow.com/users/2662962/yolynn" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
                    <span class="sidebar-button-desc">Stack Overflow</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://twitter.com/zxl20zxl" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                    <span class="sidebar-button-desc">Twitter</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.instagram.com/yolynn.zxl" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-instagram"></i>
                    <span class="sidebar-button-desc">global.instagram</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://dribbble.com/yolynn" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-dribbble"></i>
                    <span class="sidebar-button-desc">global.dribbble</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="http://yolynn.com/2010/04/22/weixin/"
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-weixin"></i>
                    <span class="sidebar-button-desc">global.weixin</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.zhihu.com/people/yolynn" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-flickr"></i>
                    <span class="sidebar-button-desc">global.zhihu</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="mailto://zxl20zxl@gmail.com" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i>
                    <span class="sidebar-button-desc">Mail</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            指针基础到进阶
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" datetime="2015-06-20T18:15:02+08:00">
	
		    Jun 20, 2015
    	
    </time>
    
</div>

</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <h2 id="学习指针需要会什么？">学习指针需要会什么？</h2><p>如何完全理解一个复杂类型，记住一条原则：</p>
<ul>
<li>从<strong>变量名</strong>处起，根据<strong>运算符优先级</strong>结合，一步一步分析</li>
</ul>
<p>举几个🌰：</p>
<ol>
<li>int p;    <ul>
<li>从p开始，先与int结合，说明p是<strong>整型变量</strong></li>
</ul>
</li>
<li>int *p;    <ul>
<li>从p开始，先与*结合，说明p是<strong>指针</strong>，</li>
<li>再与int结合，说明<strong>指针指向int型</strong>，</li>
<li>所以p是返回int型数据的指针</li>
</ul>
</li>
<li>int p[3];<ul>
<li>从p开始，先与[]结合，说明p是<strong>数组</strong>，</li>
<li>再与int结合，说明<strong>[]里面是int型</strong>,</li>
<li>所以p是返回int型数据的数组</li>
</ul>
</li>
<li>int *p[3];<ul>
<li>从p开始，先与[]结合，说明p是<strong>数组</strong>，</li>
<li>再与*结合，说明<strong>[]里面是指针型</strong>，</li>
<li>再与int结合，说明<strong>指针指向内容是int型</strong>，</li>
<li>所以p是由返回int型数据的指针组成的数组</li>
</ul>
</li>
<li>int (*p)[3];<ul>
<li>从p开始，先与*结合，说明p是<strong>指针</strong>，</li>
<li>再与[]结合，说明<strong>指针指向[]型</strong>，</li>
<li>再与int结合，说明<strong>[]里是int型</strong>，</li>
<li>所以p是指向由int型数据组成的数组的指针</li>
</ul>
</li>
<li>int **p;<ul>
<li>从p开始，先与*结合，说明p是<strong>指针</strong>，</li>
<li>再与*结合，说明<strong>指针指向指针型</strong>，</li>
<li>再与int结合，说明<strong>二级指针指向int型</strong>,</li>
<li>所以p是二级指针</li>
</ul>
</li>
<li>int p(int);<ul>
<li>从p开始，先与()结合，说明p是<strong>函数</strong>，</li>
<li>分析()里面，函数有一个<strong>int型参数</strong>,</li>
<li>再与int结合，函数<strong>返回类型是int</strong></li>
</ul>
</li>
<li>int (*p)(int);<ul>
<li>从p开始，先与*结合，说明p是<strong>指针</strong>,</li>
<li>再与()结合，说明<strong>指针指向函数</strong>，</li>
<li>分析()里面，函数有一个<strong>int型参数</strong>,</li>
<li>再与int结合，函数<strong>返回类型是int</strong>,</li>
<li>所以p是指向有一个整型参数且返回类型为整数的函数的指针</li>
</ul>
</li>
<li>int *(*p(int))[3];<ul>
<li>从p开始，先与()结合，说明p是一个<strong>函数</strong>,</li>
<li>分析()里面，函数有一个<strong>int型参数</strong>，</li>
<li>再与*结合，函数<strong>返回类型是指针</strong>，</li>
<li>再与[]结合，说明返回的<strong>指针指向[]</strong>,</li>
<li>再与*结合，说明<strong>[]里是指针</strong>，</li>
<li>再与int结合，说明指针<strong>指向的是int型</strong>，</li>
<li>所以p是一个参数为一个int型且返回一个指向整型指针变量组成的数组的指针变量的函数</li>
</ul>
</li>
</ol>
<h2 id="指针是什么？">指针是什么？</h2><p>指针是一个特殊的变量，它存储的数值被解释成内存里的一个地址</p>
<p>先声明几个指针🌰：</p>
<ol>
<li>int *ptr;</li>
<li>char *ptr;</li>
<li>int **ptr;</li>
<li>int (*ptr)[3];</li>
<li>int *(*ptr)[4] </li>
</ol>
<h4 id="指针的类型">指针的类型</h4><p>把指针名字去掉，剩下部分就是指针类型</p>
<h4 id="指向的类型">指向的类型</h4><p>把指针名和名字左边的*去掉，剩下部分就是指针指向的类型</p>
<ul>
<li>指针的类型（指针本身的类型）和指针指向的类型是<strong>两个概念</strong></li>
</ul>
<h4 id="指针的值_—_或叫指针指向的内存区">指针的值 — 或叫指针指向的内存区</h4><p>在32位操作系统里，指针都是一个32位整数，指针指向的内存区就是从指针的值代表的那个<strong>内存地址开始</strong>，长度为<strong>sizeof(指针指向的类型)</strong>的一片内存区</p>
<ul>
<li>我们说一个指针的值是XX，相当于说指针指向了以XX为首地址的一片内存区域</li>
<li>我们说一个指针指向了某块内存区域，相当于说指针的值是这块内存区域的首地址</li>
</ul>
<h4 id="指针本身占据的内存区域">指针本身占据的内存区域</h4><p><strong>sizeof(指针的类型)</strong>，32位系统里，指针占据4个字节</p>
<h2 id="为什么用指针？">为什么用指针？</h2><p>C语言的精华和唯一的难点就是指针，搞定指针等于搞定了C语言</p>
<p>指针 -&gt; C语言 -&gt; C++ -&gt; 数据结构 -&gt; 算法 -&gt; 范型编程与STL和STL源码剖析</p>
<h2 id="指针怎么用？">指针怎么用？</h2><h4 id="指针的算术运算">指针的算术运算</h4><p>指针可以加上或减去一个整数</p>
<ul>
<li>和数值的加减运算不一样，以单元为单位</li>
<li>两个指针不能进行加法运算，得到的结果不知道指向何处</li>
<li>两个指针可以进行减法运算，但是类型必须相同，一般用于数组</li>
</ul>
<p>🌰1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> a[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> *ptr = (<span class="keyword">int</span> *)a;  <span class="comment">//强制类型转换不会改变a的类型</span></span><br><span class="line">ptr++;</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">指针ptr加了<span class="number">1</span>，编译器处理：ptr的值加上了<span class="keyword">sizeof</span>(<span class="keyword">int</span>)，在<span class="number">32</span>位程序里，是加了<span class="number">4</span>，因为<span class="keyword">int</span>占据<span class="number">4</span>个字节。</span><br><span class="line"></span><br><span class="line">🌰<span class="number">2</span>：</span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">20</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> *ptr = <span class="built_in">array</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">	(*ptr)++;</span><br><span class="line">	ptr++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>各个单元的值加1，每次循环都将指针ptr加1个单元，所以每次循环都能访问到下一个单元。</p>
<h4 id="运算符_&amp;_和_*">运算符 &amp; 和 *</h4><p>&amp;是取地址运算符，*是间接运算符</p>
<ul>
<li>&amp;a的运算结果是一个指针，指针的类型是a的类型加个*，指针指向的类型是a的类型，指针指向的地址是a的地址</li>
<li><em>p的结果五花八门，\</em>p的结果是p所指向的东西，这个东西的特点：它的类型是p指向的类型，它占用的地址是p指向的地址</li>
</ul>
<p>🌰1： </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a=<span class="number">12</span>; <span class="keyword">int</span> b; <span class="keyword">int</span> *p; <span class="keyword">int</span> **ptr;</span><br><span class="line"></span><br><span class="line">p = &amp;a; <span class="comment">//&amp;a的结果是一个指针，类型是int *, 指向的类型是int, 指向的地址是a的地址</span></span><br><span class="line"></span><br><span class="line">*p = <span class="number">24</span>; <span class="comment">//*p的结果，它的类型是int，它占用的地址是p指向的地址，*p就是变量a</span></span><br><span class="line"></span><br><span class="line">ptr = &amp;p; <span class="comment">//&amp;p的结果是指针，类型是p的类型加个*，这里是int **，该指针指向的类型是p的类型，这里是int *，该指针所指向的地址就是指针 p 自己的地址</span></span><br><span class="line"></span><br><span class="line">*ptr = &amp;b; <span class="comment">//*ptr 是个指针,&amp;b 的结果也是个指针,且这两个指针的类型和所指向的类型是一样的,所以用&amp;b 来给*ptr 赋值就是毫无问题的了</span></span><br><span class="line"></span><br><span class="line">**ptr = <span class="number">34</span>; <span class="comment">//*ptr 的结果是 ptr 所指向的东西,在这里是一个指针, 对这个指针再做一次*运算,结果是一个 int 类型的变量。</span></span><br></pre></td></tr></table></figure>
<h4 id="指针表达式">指针表达式</h4><p>一个表达式的结果是指针，即指针表达式</p>
<p>🌰1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a,b;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> *pa;</span><br><span class="line">pa = &amp;a;				<span class="comment">//&amp;a</span></span><br><span class="line"><span class="keyword">int</span> **ptr = &amp;pa;    <span class="comment">//&amp;pa</span></span><br><span class="line">*ptr = &amp;b;          <span class="comment">//*ptr 和 &amp;b </span></span><br><span class="line">pa = <span class="built_in">array</span>;</span><br><span class="line">pa++;					<span class="comment">//pa</span></span><br></pre></td></tr></table></figure>
<p>当一个指针表达式的结果指针已经明确地具有了指针自身占 据的内存的话,这个指针表达式就是一个左值,否则就不是一个左值</p>
<h4 id="指针和数组">指针和数组</h4><p>数组名可以看作一个指针</p>
<p>🌰1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">intarray[<span class="number">10</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;,value;value=<span class="built_in">array</span>[<span class="number">0</span>];		<span class="comment">//可写成： value = *array;</span>value=<span class="built_in">array</span>[<span class="number">3</span>];		<span class="comment">//可写成：	value = *(array+3);</span>value=<span class="built_in">array</span>[<span class="number">4</span>];		<span class="comment">//可写成： value = *(array+4);</span></span><br></pre></td></tr></table></figure>
<p>数组名array代表数组本身，类型是int[10]，如果把array看作指针，它指向数组的第0个单元，类型是int <em>， 所指向的类型是是数组单元的类型即int，因此\</em>array 等于 0 就一点也不 奇怪了。同理,array+3 是一个指向数组第 3 个单元的指针,所以 *(array+3)等于 3。其它依此类推</p>
<h4 id="指针和结构类型">指针和结构类型</h4><p>可以声明一个指向结构类对象的指针</p>
<p>🌰1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> MyStruct &#123;</span><br><span class="line">	<span class="keyword">int</span> a;</span><br><span class="line">	<span class="keyword">int</span> b;</span><br><span class="line">	<span class="keyword">int</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> MyStruct ss = &#123;<span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> MyStruct *ptr = &amp;ss;  <span class="comment">//声明一个指向结构对象ss的指针，它的类型是MyStruct *，它指向的类型是MyStruct</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *pstr = (<span class="keyword">int</span> *)&amp;ss; <span class="comment">//声明一个指向结构对象ss的指针，但是pstr和它被指向的类型ptr是不同的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  ptr 来访问 ss 的三个成员变量</span></span><br><span class="line">ptr-&gt;a;  <span class="comment">//指向运算符</span></span><br><span class="line">ptr-&gt;b;</span><br><span class="line">ptr-&gt;c;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  pstr 来访问 ss 的三个成员变量</span></span><br><span class="line">*pstr;</span><br><span class="line">*(pstr + <span class="number">1</span>);</span><br><span class="line">*(pstr + <span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<h4 id="指针和函数">指针和函数</h4><p>可以声明一个指向函数的指针</p>
<p>🌰1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun1</span><span class="params">(<span class="keyword">char</span> *, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> (*pfun1)(<span class="keyword">char</span> *, <span class="keyword">int</span>);</span><br><span class="line"></span><br><span class="line">pfun1 = fun1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a = (*pfun1)(<span class="string">"abcdefg"</span>, <span class="number">7</span>);  <span class="comment">//通过函数指针调用函数</span></span><br></pre></td></tr></table></figure>
<p>指针作为函数的形参，函数调用中，用指针表达式来作为实参</p>
<h4 id="指针类型转换">指针类型转换</h4><p>🌰1：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f = <span class="number">12.3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> *fptr = &amp;f;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line"></span><br><span class="line"><span class="comment">//想让指针 p 指向实数 f</span></span><br><span class="line">p=&amp;f; <span class="comment">//不对。因为指针 p 的类型是 int *,它指向的类型是 int</span></span><br><span class="line"></span><br><span class="line">p=(<span class="keyword">int</span>*)&amp;f; <span class="comment">// 如果有一个指针 p,我们需要把它的类型和所指向的类型改为</span>TYEP *TYPE, 那么语法格式是: (TYPE *)p;</span><br></pre></td></tr></table></figure>
<p>强制类型转换的结果是一个新指针,该新指针的类型是TYPE *,它指向的类型是 TYPE,它指向的地址就是原指针指向的地址。 <strong>而原来的指针 p 的一切属性都没有被修改。(切记)</strong></p>
<h4 id="指针的安全问题">指针的安全问题</h4><ol>
<li>指针访问数组时，不要超过数组低端和高端的界限</li>
<li>强制类型转换ptr1 = (TYPE *)ptr2中，如果sizeof(prt2的类型)大于sizeof(ptr1的类型)，那么使用指针ptr1访问ptr2所指向的存储区域是安全的</li>
</ol>
<h2 id="指针的实际应用">指针的实际应用</h2><h4 id="XX会">XX会</h4><h4 id="XX仓">XX仓</h4>
            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/07/20/ios_arc_mrc/"  data-tooltip="iOS内存管理基础到进阶">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/06/17/c3p0/" data-tooltip="C3P0的两种用法">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2017 yolynn. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/07/20/ios_arc_mrc/"  data-tooltip="iOS内存管理基础到进阶">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2015/06/17/c3p0/" data-tooltip="C3P0的两种用法">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="4">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://yolynn.com/2015/06/20/c_pointer/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/head.png"/>
        
            <h4 id="about-card-name">yolynn</h4>
        
            <h5 id="about-card-bio"><p>云在青天水在瓶 - 幽灵鸟</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>vip.com</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                China
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/jquery.js" type="text/javascript"></script>
<script src="/assets/js/jquery.fancybox.js" type="text/javascript"></script>
<script src="/assets/js/jquery.fancybox-thumbs.js" type="text/javascript"></script>
<script src="/assets/js/tranquilpeak.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    



</html>
